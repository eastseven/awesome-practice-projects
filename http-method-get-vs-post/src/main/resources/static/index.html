<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <script src="js/vue-2.2.6.min.js"></script>
    <script src="js/vue-resource-1.3.1.min.js"></script>
    <script src="js/vue-router-2.4.0.min.js"></script>
</head>
<body>
<div id="example-1">
    <button v-on:click="greet">增加 1</button>
    <p>这个按钮被点击了 {{ counter }} 次。</p>
</div>
<script type="text/javascript">
//    Vue.http.interceptor.push(function (request, next) {
//       console.log('拦截器');
//       next();
//    });

    new Vue({
        el: '#example-1',
        data: {
            counter: 0,
            token: ''
        },
        created: function () {
            // `this` 指向 vm 实例
            console.log('counter is: ' + this.counter);

            var url = '/oauth/token?grant_type=client_credentials';
            this.$http.post(url, {}, {
                //credentials: true,
                headers: {
                    Authorization: 'Basic ZDctY2xpZW50LWlkOjEyMzQ1Ng=='
                }
            }).then(function (resp) {
                console.log(resp);
                JSONString.to
            }, function (resp) {
                console.error(resp);
            });
        },
        // 在 `methods` 对象中定义方法
        methods: {
            greet: function () {
                this.counter += 1;
                console.log('data', this.counter);
                /*
                this.$http.get('/session').then(function (rep) {
                    console.log('success', rep);
                }, function (rep) {
                    console.log('fail', rep);
                });*/

                var url = 'http://localhost:7071/oauth/token?grant_type=client_credentials';
                this.$http.post(url, {
                    //credentials: true,
                    headers: {
                        Authorization: 'Basic ZDctY2xpZW50LWlkOjEyMzQ1Ng=='
                    }
                }).then(function (resp) {
                    console.log(resp);
                }, function (resp) {
                    console.error(resp);
                });
            }
        }
    })
</script>
</body>
</html>